<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    {% include 'components/head.html' with title='KeyArena' %}
    

</head>

<body>
    <div class="bg-image"></div>
    <main class="position-absolute top-50 start-50 translate-middle">
        <div class="container">  
            <div class="form-box">
                <form action="{% url 'cadastro' %}" method="POST" onsubmit="return validatePassword()">
                    {% csrf_token %}
                    <h2 class="text-light">Cadastro de Usuário</h2>
                    {% include 'components/messages.html' %}
                    
                    <!-- Campo de email -->
                    <div class="form-group">
                        <label for="email" class="text-light">Endereço de email</label>
                        <input type="email" class="form-control" placeholder="Email..." name="email" required>
                    </div>
                    <br>
                    
                    <!-- Campo de senha -->
                    <div class="form-group">
                        <label for="senha" class="text-light">Senha</label>
                        <input type="password" class="form-control" placeholder="Senha..." name="password" id="password" required>
                    </div>
                    <br>

                    <!-- Campo de nome -->
                    <div class="form-group">
                        <label for="name" class="text-light">Nome</label>
                        <input type="text" class="form-control" name="nome" required>
                    </div>
                    <br>

                    <!-- Campo de sobrenome -->
                    <div class="form-group">
                        <label for="sobrenome" class="text-light">Sobrenome</label>
                        <input type="text" class="form-control" name="sobrenome" required>
                    </div>
                    <br>

                    <!-- Campo de data de nascimento -->
                    <div class="form-group">
                        <label for="data-nascimento" class="text-light">Data de nascimento</label>
                        <input type="date" class="form-control" name="data_nascimento" required>
                    </div>
                    <br>

                    <!-- Campo de celular -->
                    <div class="form-group">
                        <label for="celular" class="text-light">Celular</label>
                        <input type="text" class="form-control" name="celular" required>
                    </div>
                    <br>

                    <!-- Botões -->
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                    <button type="button" class="btn btn-danger" onclick="window.history.back()">Cancelar</button>
                </form>
            </div> 
        </div> 
    </main>

    <!-- Caixa com as regras da senha -->
    <div class="password-rules-box">
        <p>Regras de senha:</p>
        <ul>
            <li>Pelo menos uma letra maiúscula</li>
            <li>Pelo menos uma letra minúscula</li>
            <li>Pelo menos um número</li>
            <li>Pelo menos um caractere especial</li>
            <li>No mínimo 8 caracteres</li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        function validatePassword() {
            const password = document.getElementById('password').value;
            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

            // Verifica a força da senha
            if (!regex.test(password)) {
                alert("A senha deve conter pelo menos uma letra maiúscula, uma letra minúscula, um número, um caractere especial e ter no mínimo 8 caracteres.");
                return false; // Impede o envio do formulário
            }

            return true; // Permite o envio do formulário
        }
    </script>
</body>
</html>
